import fixture.*
import estado.*
import tipoDeHabilidades.*

test "Asignar Propiedades" {

	//-----------Estado Apropia Propiedades------------
	var casa=fixture.crearCasa(2,50,45)
	var depto=fixture.crearDepto(15,15,50)	
	var deptoPalermo=fixture.crearDepto(15,15,50)
	
	estado.incautarPropiedad(casa)
	estado.incautarPropiedad(depto)
	estado.incautarPropiedad(deptoPalermo)
	
	//----------creo la familia Perez--------------
	var lopez=fixture.crearFamilia()
		
	var leandro=fixture.crearPersona("Leandro",32,electricista)
	var maria=fixture.crearPersona("Maria",30,decoradora)
	
	leandro.podesTrabajar(10,deptoPalermo)
	maria.podesTrabajar(5,deptoPalermo)
	
	lopez.agregarPersona(leandro)
	lopez.agregarPersona(maria)

	//----------creo la familia Rodriguez--------------
	var rodriguez=fixture.crearFamilia()
		
	var juan=fixture.crearPersona("Juan",32,electricista)
	var marcos=fixture.crearPersona("Marcos",30,decoradora)
	
	juan.podesTrabajar(10,deptoPalermo)
	marcos.podesTrabajar(5,deptoPalermo)
	
	rodriguez.agregarPersona(juan)
	rodriguez.agregarPersona(marcos)
	
	//----------creo la familia Dominguez--------------
	var dominguez=fixture.crearFamilia()
		
	var pedro=fixture.crearPersona("Juan",32,electricista)
	var pablo=fixture.crearPersona("Marcos",63,electricista)
	
	pedro.podesTrabajar(10,depto)
	pablo.podesTrabajar(5,depto)
	
	dominguez.agregarPersona(pedro)
	dominguez.agregarPersona(pablo)
	
	//agrego familias participantes
	deptoPalermo.agregarFamilia(lopez)		
	deptoPalermo.agregarFamilia(rodriguez)
	deptoPalermo.agregarFamilia(dominguez)
	
	estado.asignarPropiedades()

	assert.equals(1,estado.cantPropiedadesIncautadas())

}